#v_1, #v_3 и соединял Хлебородов Дима
import random
import time
import datetime
from time import sleep as slp
import random
from datetime import datetime as dt
print("Вам надо сбежать из тюрьмы, ваши действия?")
def v_1():
    print(f"{"1: Вентиляция"}\n{"2: Отвлечь охрану"}\n{"3: Взломать дверь"}\n{"4: Отсидеть, но выйти из тюрьмы 50%"}\n{"5: Выиграть карты, за выход!"}")
    while True:
        a = int(input(""))
        if a == 1:
            a = random.randint(1000, 10000)
            print("Вы сделали шагов: ", a)
            time.sleep(1)
            print("Вы попали на чердак")
            option_2_1()
            break
        elif a == 2:
            print("Оу, оу, у вас есть только одна попытка решить пример от охраника, чтобы спастись!")
            time.sleep(1)
            a = random.randint(10,100)
            b = random.randint(10,100)
            c = random.randint(10,100)
            l = (a*b+b*c-a*c)**2
            print("(",a,"*",b,"+",b,"*",c,"-",a,"*",c,")^2 = ?")
            f = int(input())
            if f == l:
                print("Вы решили правильно! И охраник замер от удивления, пока вы проходите мимо!")
                time.sleep(2)
                print("Вы оказались в коридоре")
                option_2_2()
                break
            else:
                print("Тупой, иди обратно в школу! ПРОВАЛ!")
                break
        elif a == 3:
            print("БУМ")
            time.sleep(1)
            print("БУМ")
            time.sleep(1)
            print("БУМ")
            time.sleep(1)
            print("ПРОВАЛ, вас убили")  
            break     
        elif a == 4:
             print("Ждите...")
             time.sleep(5)
             a=random.randint(1,2)
             if a==1:
                print("Вас выпустили!")
                break
             else:
                print("ПРОВАЛ, вас не выпустили")
                break
        elif a == 5:
            a = random.randint(1,5)
            print("Выбери карту от 1-5, если угадаешь ты окажешься в финале, а если не угадаешь, ты труп!!!")
            b = int(input())
            if a == b:
                print("Повезло! Вот тебе выход!")
            else:
                print("Ты труп!)")
                break
        else:
            print("Нет такого, введите другое число:")

#СИМАКОВ ЯРОСЛАВ
def option_2_1():
    while True:
        print("Выберите действие\n[1] Спуститься по трубе\n[2] Пройти по балке\n[3]Подойти к люку")
        option = int(input())
        if option == 1:
            print("Вы пробрались в машинный зал")
            v_3_1()                                    
            break
        elif option == 2:
            print("Вы умерли от того, что соскользнули с балки\n")
            break
        elif option == 3:
                print("Вы видете в полу люк в полу.\nВы думаете что он ведёт на свободу.")
                time.sleep(5)
                print("Вы пытаетесь вскрыть люк")
                time.sleep(5)
                r = random.randint(1,2)
                if r == 1:
                    print("Вы выбрались")
                    option_2_2()
                    break
                else:
                    print("Вас заметила охрана и арестовала")
                    break
        else:
            print("Данного выбора события не существует")

#ТРУНОВ АЛЕКСАДР
def option_2_2():
     while True:
        print("[1] Надеть форму\n[2]Спрятатся в тележке")
        option = int(input())
        if option == 1:
               print("Вы пробрались до поста охраны")
               vibor_3_2()
               break
        elif option == 2:
             print("Вас выкинули вместе с мусором")
             break
        else:
            print("Выберете другой вариант")
            break
#ХЛЕБОРОДОВ ДИМА
def v_3_1(): 
     print("Но вот беда... Вас заметили. Ваши действия?")
     time.sleep(3)
     print(f"{"1: Отключить электричество"}\n{"2: Вызвать лифт"}\n{"3: Кричать как психопат"}\n{"4: Притвориться мертвым"}")
     a = int(input())
     while True:
        if a == 1:
         print("Вы как ниндзя проходите мимо, но")
         time.sleep(2)
         print("Охраники оказались настолько тупыми, что не додумались включить свет. В итоге полностью сбежали из тюрьмы. ВЫИГРЫШ!!!")
         break
        elif a == 2:
         print("Лифт едет, а вы надеетесь, что никого не будет")
         time.sleep(5)
         print("Он ещё едет")
         time.sleep(5)
         print("Ещё чуть-чуть!")
         time.sleep(5)
         print("Лифт приехал, где не было людей и вы зашли внутрь!!!")
         final()
         break
        elif a == 3:
         print("Вас застрелили")
         time.sleep(5)
         print("Был он глуп")
         time.sleep(5)
         print("КОНЕЦ!")
         break
        elif a == 4:
         a = random.randint(1,3)
         if a == 2:
             print("Вас не нашли или просто не хотели на вас смотреть. В итоге просто ушли")
             break
         else:
             print("Вас съели!")
             break
        else:
            print("Нет такого варианта!")


 
#АРТЕМ ЛИППАРТ

def vibor_3_2():
    print("Ваши действия?")
    print("1: Вызвать вертолет")
    print("2: Угнать машину")
    print("3: Спрятаться и ждать удачи")
    print("4: Прорваться пешком")
    print("5: Закладка бомбы для отвлечения")

    while True:
        choice = input("> ")

        # --- 1 ---
        if choice == "1":
            print("Локация: Крыша")
            final()
            break
        # --- 2 ---
        elif choice == "2":
            print("Вы пытаетесь угнать машину...")
            time.sleep(1)
            chance = random.randint(1, 2)
            if chance == 1:
                print("УСПЕХ: Дорожный побег! Вы скрылись!")
                break
            else:
                print("ПРОВАЛ! Машина заглохла и вас поймали.")
            break

        # --- 3 ---
        elif choice == "3":
            print("Вы решили спрятаться...")
            time.sleep(2)
            chance = random.randint(1, 4)
            if chance == 1:
                print("Удача на вашей стороне — охрана ушла. Вы выбрались!")
                final()
            else:
                print("ПРОВАЛ — охрана заметила вас.")
            break

        # --- 4 ---
        elif choice == "4":
            print("Вы побежали пешком к выходу!")
            stamina = random.randint(1, 10)
            guards = random.randint(1, 10)
            time.sleep(1)
            print(f"Ваша выносливость: {stamina}, уровень охраны: {guards}")
            if stamina > guards:
                print("УСПЕХ! Вы вырвались.")
                final()
            else:
                print("ПРОВАЛ! Охрана догнала вас.")
            break

        # --- 5 ---
        elif choice == "5":
            print("Вы устанавливаете самодельную бомбу...")
            time.sleep(2)
            power = random.randint(1, 3)
            if power == 1:
                print("Слабый взрыв. Охрана услышала и задержала вас. ПРОВАЛ.")
            elif power == 2:
                print("Бомба отвлекла охрану! У вас есть шанс сбежать!")
            else:
                print("Мощный взрыв! Вы спокойно уходите в хаосе. УСПЕХ.")
            break

        else:
            print("Нет такого варианта, попробуйте снова.")

#ФАЛИЛЕЕВ РУСЛАН
def final():
    vibor = input("[1] Улететь на вертолетё \n [2]Спуститься по вервке \n [3] Прыгнуть с зонтом \n Введите ответ: ")
    if vibor =="1":
        a = 300
        while a!=0:
            slp(1)
            a -=1
            print('\rПодождите ещё {} секунд.'.format(a), end='')
        print("Самолёт не прилетел ,и охраники заперли тебя \n Ты проиграл!")
    elif vibor =="2":
        bb = random.randint(0,1)
        if bb ==1:
            print("Вы обожглись и упали с 10 этажа\n Ты проиграл!")
        else:
            print( "Ты выйграл . УРААА")
    elif vibor =="3":
        sec = dt.now().second
        if sec%2==0:
            print( "Ветер был тихим и ты улетел\nТы выйграл . УРААА")
        else:
            print("Ветер поднялся и ты улетел.\n Ты проиграл!")
    else:
        print("Ошибка 404!")
        final()
v_1()
